{% extends "base.html" %}
{% block content %}
<h2 class="text-center mb-4">在庫一覧</h2>

<div class="table-responsive">
  <table class="table table-bordered table-striped align-middle shadow-sm">
    <thead class="table-primary text-center">
      <tr>
        <th>資器材名</th>
        <th>数量</th>
        <th>物品要求</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr>
        <td class="fw-semibold">{{ item.name }}</td>
        <td class="text-center">
          {% if item.quantity <= item.minimum %}
            <span class="badge bg-danger fs-6">{{ item.quantity }}</span>
          {% else %}
            <span class="badge bg-success fs-6">{{ item.quantity }}</span>
          {% endif %}
        </td>
        <td>
          {% if item.name in item_requests %}
            {% for req in item_requests[item.name] %}
              <span class="badge bg-info text-dark mb-1">
                {{ req.date.strftime('%m/%d') }}: {{ req.quantity }}
              </span><br>
            {% endfor %}
          {% else %}
            <span class="text-muted">なし</span>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
